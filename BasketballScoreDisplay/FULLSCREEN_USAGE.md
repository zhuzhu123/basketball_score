# 全屏篮球比分显示系统使用说明

## 🎯 系统概述

基于已验证的 `BluetoothServer.java` 代码创建的全屏篮球比分显示系统，实现了以下功能：

- ✅ **全屏显示**：启动后自动全屏显示，只显示队名和比分
- ✅ **蓝牙连接**：使用验证过的蓝牙代码接收Android数据
- ✅ **倒计时功能**：15秒倒计时，6秒开始播报，0秒播报进攻结束
- ✅ **页面切换**：比分页面 ⇄ 倒计时页面智能切换
- ✅ **语音播报**：倒计时播报功能

## 🚀 启动方法

### 编译运行
```bash
mvn clean compile
mvn exec:java -Dexec.mainClass="com.basketball.display.BasketballFullScreenDisplay"
```

### 直接运行
```bash
java -cp target/classes com.basketball.display.BasketballFullScreenDisplay
```

## 📱 Android 命令协议

系统接收以下蓝牙命令：

| 命令 | 格式 | 功能说明 |
|------|------|----------|
| **得分操作** |
| `HOME_SCORE:2` | 龙都F4+2分 | 更新龙都F4得分并显示比分页面 |
| `HOME_SCORE:-1` | 龙都F4-1分 | 龙都F4减分并显示比分页面 |
| `AWAY_SCORE:3` | 暴风队+3分 | 更新暴风队得分并显示比分页面 |
| `AWAY_SCORE:-1` | 暴风队-1分 | 暴风队减分并显示比分页面 |
| **队伍设置** |
| `HOME_TEAM:湖人队` | 设置龙都F4名 | 设置龙都F4名称 |
| `AWAY_TEAM:勇士队` | 设置暴风队名 | 设置暴风队名称 |
| **倒计时控制** |
| `START_COUNTDOWN` | 开始倒计时 | 从15秒开始倒计时并切换到倒计时页面 |
| `CONTINUE_COUNTDOWN` | 继续倒计时 | 从之前的时间继续倒计时 |
| `STOP_COUNTDOWN` | 停止倒计时 | 停止倒计时并返回比分页面 |
| `RESET_COUNTDOWN` | 重置倒计时 | 重置为15秒 |

## 🖥️ 界面说明

### 比分页面
```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│    湖人队                VS               勇士队            │
│      98                                    102              │
│                                                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 倒计时页面
```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│                                                             │
│                          15                                 │
│                                                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 🎵 倒计时播报

### 播报规则
- **15-7秒**：静默倒计时（黄色数字）
- **6-1秒**：播报数字（红色数字 + 系统提示音）
- **0秒**：播报"进攻结束"（红色数字 + 系统提示音）
- **播报后**：2秒延迟后自动返回比分页面

### 时间保存机制
- 停止倒计时时保存当前剩余时间
- 继续倒计时时从保存的时间开始
- 每次新开始倒计时都从15秒开始

## ⌨️ 快捷键

| 按键 | 功能 |
|------|------|
| `ESC` | 退出全屏并关闭程序 |

## 🎨 视觉设计

### 颜色主题
- **背景色**：纯黑色
- **龙都F4色**：橙红色 (255, 69, 0)
- **暴风队色**：蓝色 (30, 144, 255)
- **VS标签**：白色
- **倒计时（正常）**：黄色
- **倒计时（警告）**：红色

### 字体大小
- **队名**：80px 粗体
- **比分**：300px 粗体
- **VS标签**：120px 粗体
- **倒计时**：400px 粗体

## 🔧 技术特点

### 蓝牙连接
- 基于验证过的 `BluetoothServer.java` 代码
- 使用标准串口服务 UUID (1101)
- 支持多次连接和断线重连
- 自动发送 ACK 确认消息

### 页面管理
- 使用 `CardLayout` 实现页面切换
- 智能页面切换逻辑
- 流畅的用户体验

### 倒计时系统
- 精确的秒级倒计时
- 智能暂停和继续功能
- 可靠的时间保存机制

## 🛠️ 故障排除

### 常见问题

#### 1. 蓝牙无法连接
**解决方案**：
- 确保蓝牙服务已启动
- 检查蓝牙适配器是否正常
- 以管理员身份运行程序

#### 2. 程序无法全屏
**解决方案**：
- 检查显示器分辨率设置
- 确保没有其他程序占用全屏
- 重启程序

#### 3. Android连接失败
**解决方案**：
- 确认Android蓝牙已开启
- 检查是否与PC蓝牙配对
- 使用标准SPP协议连接

### 调试信息

程序会在控制台输出详细日志：
```
PC Bluetooth Address: XX:XX:XX:XX:XX:XX
PC Bluetooth Name: YourPC
蓝牙服务器已启动，等待客户端连接...
Android客户端已连接!
收到Android数据: HOME_SCORE:2
龙都F4得分更新: 2
切换到比分页面
```

## 📋 系统要求

- **操作系统**：Windows 10/11
- **Java版本**：Java 11+
- **蓝牙支持**：内置或USB蓝牙适配器
- **屏幕**：支持全屏显示的任意分辨率

## 🎉 使用流程

### 标准比赛流程

1. **启动系统**
   ```bash
   java -cp target/classes com.basketball.display.BasketballFullScreenDisplay
   ```

2. **设置队伍名称**（Android发送）
   ```
   HOME_TEAM:湖人队
   AWAY_TEAM:勇士队
   ```

3. **开始计分**（Android发送）
   ```
   HOME_SCORE:2    # 龙都F4得2分
   AWAY_SCORE:3    # 暴风队得3分
   ```

4. **进攻时间控制**（Android发送）
   ```
   START_COUNTDOWN     # 开始24秒倒计时
   CONTINUE_COUNTDOWN  # 暂停后继续
   STOP_COUNTDOWN      # 停止并返回比分
   ```

5. **退出系统**
   - 按 `ESC` 键退出全屏

### 高级功能

- **减分操作**：发送负数进行减分
- **时间暂停**：倒计时可随时暂停和继续
- **智能切换**：得分时自动回到比分页面
- **语音提醒**：最后6秒倒计时播报

---

**注意**：本系统专为篮球比赛现场使用设计，确保在比赛前进行充分测试！ 